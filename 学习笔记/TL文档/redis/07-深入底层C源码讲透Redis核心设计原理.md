**深入底层C源码讲透Redis核心设计原理**        

1.Redis K-V 底层设计原理
2.Redis 渐进式rehash及动态扩容机制 
3.Redis核心编码结构精讲
4.亿级用户日活统计BitMap实战及源码分析

**Redis 基本特性**

1. 非关系型的键值对数据库，可以根据键以O(1) 的时间复杂度取出或插入关联值

2. Redis 的数据是存在内存中的

3. 键值对中键的类型可以是字符串，整型，浮点型等，且键是唯一的

4. 键值对中的值类型可以是string，hash，list，set，sorted set 等

5. Redis 内置了复制，磁盘持久化，LUA脚本，事务，SSL,  ACLs，客户端缓存，客户端代理等功能

6. 通过Redis哨兵和Redis Cluster 模式提供高可用性

**缓存**

![image-20220314092648166](./07-%E6%B7%B1%E5%85%A5%E5%BA%95%E5%B1%82C%E6%BA%90%E7%A0%81%E8%AE%B2%E9%80%8FRedis%E6%A0%B8%E5%BF%83%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86.assets/202203140945662.png)

![image-20220314092706597](./07-%E6%B7%B1%E5%85%A5%E5%BA%95%E5%B1%82C%E6%BA%90%E7%A0%81%E8%AE%B2%E9%80%8FRedis%E6%A0%B8%E5%BF%83%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86.assets/202203140927664.png)

**Redis应用场景**

计数器
可以对 String 进行自增自减运算，从而实现计数器功能。Redis 这种内存型数据库的读写性能非常高，很适合存储频繁读写的计数量。 

分布式ID生成
利用自增特性，一次请求一个大一点的步长如 incr 2000 ,缓存在本地使用，用完再请求。

海量数据统计
位图（bitmap）:存储是否参过某次活动，是否已读某篇文章，用户是否为会员， 日活统计。

会话缓存
可以使用 Redis 来统一存储多台应用服务器的会话信息。当应用服务器不再存储用户的会话信息，也就不再具有状态，一个用户可以请求任意一个应用服务器，从而更容易实现高可用性以及可伸缩性。

分布式队列/阻塞队列
List 是一个双向链表，可以通过 lpush/rpush 和 rpop/lpop 写入和读取消息。可以通过使用brpop/blpop 来实现阻塞队列。

分布式锁实现
在分布式场景下，无法使用基于进程的锁来对多个节点上的进程进行同步。可以使用 Redis 自带的 SETNX 命令实现分布式锁。

热点数据存储
最新评论，最新文章列表，使用list 存储,ltrim取出热点数据，删除老数据。

社交类需求
Set 可以实现交集，从而实现共同好友等功能，Set通过求差集，可以进行好友推荐，文章推荐。

排行榜
sorted_set可以实现有序性操作，从而实现排行榜等功能。

延迟队列
使用sorted_set，使用 【当前时间戳 + 需要延迟的时长】做score, 消息内容作为元素,调用zadd来生产消息，消费者使用zrangbyscore获取当前时间之前的数据做轮询处理。消费完再删除任务 rem  key  member
